import{c as u,r as o,j as e,L as h}from"./index-D9xp5EXn.js";import{a as g}from"./index-Bs4hfBUf.js";import"./iconBase-WJmFh2ab.js";const b=()=>{const i=u(),[d,m]=o.useState(!0),[a,c]=o.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",profileImage:null}),s=n=>{const{name:t,value:r,files:l}=n.target;c({...a,[t]:r,[t]:t==="profileImage"?l[0]:r})},p=async n=>{n.preventDefault();try{const r=new FormData;for(var t in a)r.append(t,a[t]);(await fetch("http://localhost:4000/auth/register",{method:"POST",body:r})).ok&&i("/login")}catch(r){console.log("Registeration failed",r.message)}};return o.useEffect(()=>{m(a.password===a.confirmPassword||a.confirmPassword==="")},[a.password,a.confirmPassword]),e.jsx("div",{className:"absolute h-full w-full bg-black/40 z-50 flexCenter",children:e.jsx("div",{children:e.jsxs("form",{onSubmit:p,className:`flex flex-col gap-y-2.5 bg-white w-[366px] p-7 
        rounded-xl shadow-md text-[14px]`,children:[e.jsx("h3",{className:"h3 my-4",children:"Sign Up"}),e.jsx("input",{onChange:s,value:a.firstName,type:"text",name:"firstName",placeholder:"First Name",required:!0,className:"bg-primary border-none p-2 pl-4 rounded-md outline-none"}),e.jsx("input",{onChange:s,value:a.lastName,type:"text",name:"lastName",placeholder:"Last Name",required:!0,className:"bg-primary border-none p-2 pl-4 rounded-md outline-none"}),e.jsx("input",{onChange:s,value:a.email,type:"email",name:"email",placeholder:"Email Address",required:!0,className:"bg-primary border-none p-2 pl-4 rounded-md outline-none"}),e.jsx("input",{onChange:s,value:a.password,type:"password",name:"password",placeholder:"Password",required:!0,className:"bg-primary border-none p-2 pl-4 rounded-md outline-none"}),e.jsx("input",{onChange:s,value:a.confirmPassword,type:"password",name:"confirmPassword",placeholder:"Confirm Password",required:!0,className:"bg-primary border-none p-2 pl-4 rounded-md outline-none"}),!d&&e.jsx("p",{children:"Password do not match"}),e.jsx("input",{onChange:s,type:"file",id:"image",name:"profileImage",accept:"image/*",hidden:!0,required:!0}),e.jsx("label",{htmlFor:"image",children:e.jsx("div",{className:`flexCenter ring-1 ring-slate-900/10 p-1 
            h-16 w-16 rounded`,children:a.profileImage?e.jsx("img",{src:URL.createObjectURL(a.profileImage),alt:"profileImg",className:"p-1 h-16 object-contain aspect-square"}):e.jsx(g,{className:"text-tertiary text-2xl"})})}),e.jsx("button",{type:"submit",className:`btn-secondary 
          rounded mt-2`,children:"Register"}),e.jsxs("div",{className:"text-gray-30",children:["Already have an account? ",e.jsx(h,{to:"/login",className:`text-secondary 
            cursor-pointer pl-1`,children:"Login"})]})]})})})};export{b as default};
