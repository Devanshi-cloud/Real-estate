import{r as o,u as a,a as u,j as t,b as x,l as L}from"./index-D9xp5EXn.js";import{H as j}from"./Header-eFRqfexm.js";import{L as f}from"./ListingCard-W-P1bR9K.js";import"./iconBase-WJmFh2ab.js";import"./index-CLevAUnp.js";const N=()=>{const[c,i]=o.useState(!0),p=a(s=>s.user._Id),r=a(s=>s.user.tripList),n=u(),d=async()=>{try{const e=await(await fetch(`http://localhost:4000/users/${p}/trips`,{method:"GET"})).json();n(L(e)),i(!1)}catch(s){console.log("Fetch Trip List Failed!",s.message)}};return o.useEffect(()=>{d()},[]),console.log(r),c?t.jsx(x,{}):t.jsxs(t.Fragment,{children:[t.jsx(j,{}),t.jsxs("section",{className:"max-padd-container pt-10",children:[t.jsx("h3",{className:"h3",children:"Your Trip List"}),t.jsx("div",{className:"grid-cols-1 md:grid-cols-2 gap-6",children:r.map(({listingId:s,hostId:e,startDate:l,endDate:h,title:g,description:y,booking:m=!0})=>t.jsx(f,{listingId:s._id,creator:e._id,listingPhotoPaths:s.listingPhotoPaths,city:s.city,province:s.province,country:s.country,category:s.category,startDate:l,endDate:h,title:s.title,description:s.description,booking:m},s))})]})]})};export{N as default};
